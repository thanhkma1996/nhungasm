; ;DE 5
; ;1.TINH TONG CAC SO CHIA HET CHO 8 TRONG CHUOI SO
; ;2.TINH TONG CAC SO NGUYEN TRONG CHUOI SO

	; AREA RESET, DATA, READONLY
	; EXPORT _VECTOR
; _VECTOR
	; DCD 0x20001000
	; DCD RESET_HANDLER
	
	; AREA MYDATA, DATA, READONLY
; CHUOISO 
	; DCD -1, -2, 3, 4, -5, -8, 16
	
	; AREA MYCODE, CODE, READONLY
	
; TONGCHIA_8 PROC
	; LDR R4, [R0], #4	;LAY GIA TRI
	; MOV R5, #8			;R5 = 8
; KT
	; SDIV R6, R4, R5
	; MLS R7, R6, R5, R4
	; CMP R7, #0
	; BEQ XuLy2
	; B Exit2
; XuLy2
	; ADD R1, R1, R4		;TONG CHIA HEST CHO 8
; Exit2
	; ADD R3, R3, #1		; R4 = R4 +1
	; CMP R3, #7			;CHUOI SO N  =8
	; BLE TONGCHIA_8
	; BX LR
		; ENDP
		
; TONGSNT PROC
	; LDR R4, [R0], #4	;LAY GIA TRI ARR
	; MOV R5, #1			;BIEN CHAY R5- CHAY TU 1
; Lap
	; ADD R5,R5,#1		;TANG BIEN CHAY LEN- KTRA TU 2
	; CMP R5, R4			;SO SANH BIEN CHAY VS SO CAN KIEM TRA
	; BLT ChiaDu			;NHAY VE ChiaDu NEU R5 < R4
	; BGT Exit
	; BEQ XuLy			;NHAY VE XuLy NEU R5 = R4
; ChiaDu
	; UDIV R6,R4,R5		;CHIA
	; MLS R7, R6, R5, R4	; R7 = R4- (R5*R5)
	; CMP R7, #0			;SO SANH 
	; BNE Lap				;NHAY NEU R8 # 0
	; B Exit				;NHAY KO DIEU KIEN
; XuLy
	; ADD R2,R2,R4		;TANG THEM TONG SO SNT
	; B Exit				;NHAY KHONG DIEU KIEN
; Exit
	; ADD R3,R3,#1		;TANG BIEN CHAY CHUNG
	; CMP R3, #4			;SO SANH
	; BLE TONGSNT				;NHAY VE SNT NEU R3 < 4
	; BX LR				;TRO VE MAIN PROC
		; ENDP
	
; RESET_HANDLER
; MAIN PROC
	; LDR R0, =CHUOISO		;LAY DIA CHI
	; MOV R1, #0				;TONG CHIA 8
	; MOV R2, #0				;TONG SNT
	; MOV R3, #1				;BIEN  CHAY
	; BL TONGCHIA_8
	; LDR R0, =CHUOISO		;RESET
	; MOV R3, #1				;RESET
	; BL TONGSNT
	; NOP
		; ENDP
		; END			;HamChoiqh
	
